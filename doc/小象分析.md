# 基本概念
本节，我们主要介绍在使用小象分析来进行用户行为分析时常用到的一些名词和一些基础指标的配置说明，目的是帮助用户更好的理解和使用小象数据的功能来解决基本的分析需求。
## 行为分析常用名词
### 维度
维度描述的是一个事物身上所具备的特征或属性。比如一个人属于什么性别，生活在哪个城市，喜欢什么颜色，这些都是这个人身上所具备的属性特征。
而在网站分析领域，维度往往用来描述和分析指标，比如单一的访问数指标并不能告诉你太多信息，一旦加上来源这个维度，就马上变得有意义了。
### 指标
指标，即具体的数值。比如访客、页面浏览量、停留时长都属于常见的指标。
指标一般可分为计数指标和复合指标。计数指标如访客、访问、页面浏览量、停留时长等；复合指标如跳出率、交互深度、转化率等。指标一般伴随维度来分析才有更大的意义。
### 展示和点击
展示，指页面上元素的曝光次数。点击，指页面元素被用户点击的次数。
这两个指标主要适用于线上广告投放，比如评估投放在新浪首页的品牌广告，展示了多少次，点击了多少次。
### 访客
英文为 Visitor，通俗解释为访问网站或 App 的人。前面加上 Unique 后，即我们平常说的 UV，唯一身份访客。
对于数据统计工具而言，一般用匿名 ID 来标记访问者，网页端产品是 Cookie（网站服务器投放在用户浏览器上的一小段文本），App 端产品是设备 ID。
### 访问
即 Visit，网页端产品常用概念，指用户一系列连续的页面浏览行为，跟会话 Session 同义。随着移动互联网的崛起，考虑到 App 的使用，Session 慢慢代替 Visit 成为主要用词。
业界对于 Session 内行为间的间隔设定了有效期限，网页端产品为 30 分钟，App 端产品时间较短，一般为 1 分钟。
### 页面浏览量
PageView，即 PV，指页面被用户浏览的次数，严格定义上指的是用户向网站发出并完成的一个下载页面的请求。
页面浏览的概念主要适用于网页端产品，对于 App 的分析，现主要使用屏幕浏览，即 ScreenView。


### 停留时长
对应于用户 Session，便有了停留时长指标，主要用来衡量用户与网站、App 交互的深度。交互越深，相应停留的时长也越长。
一般有页面停留时长，会话时长以及平均停留时长等概念，其计算的核心原理在于记录下用户行为发生时的时间戳，后期再应用相应公式来计算。
### 跳出率
BounceRate，一个衡量落地页质量好坏的重要指标。跳出的概念是指用户在一次访问中仅做了一次互动便选择了离开，单一页面和全站均有跳出率的概念。
页面跳出率为该页面跳出的访问次数占该页面总访问次数的百分比。全站跳出率则为跳出的访问次数除以总的访问次数。
### 交互深度
交互深度是指用户在一次浏览网站或 App 过程中，访问了多少页面。用户在一次浏览中访问的页面越多，交互深度就越深。交互深度能够侧面反映网站或 App 对于用户的吸引力。
可以通过 Session 来计算用户的平均交互深度。


### 转化率
任何产品都需要关注的核心指标，主要用来衡量用户从流量到发生实际目标转化的能力。
一般用目标转化的次数或人数除以进入目标转化漏斗的人数或次数，因目标行为的不同，转化率是一个非常灵活的指标，比如你可以自定义注册转化率、登录转化率、购买转化率、搜索成功转化率等。
## 小象分析相关名词
### 指标
#### 1. 总次数
事件分析功能常用指标，指在选定的时间范围内，某一事件被触发的次数。
比如选择页面浏览事件，按总次数查看时，计算出来的值即为页面浏览量。
#### 2. 触发用户数
事件分析功能常用指标，指在选定的时间范围内，触发某一事件的独立用户数。
比如选择注册成功事件，按独立用户数查看时，计算出来的值即为选择时间范围内的注册成功人数。
#### 3. 人均次数
事件分析功能常用指标，指在选定的时间范围内，独立用户触发某一事件的平均次数。
比如选择页面浏览事件，按人均次数查看时，计算出来的值即为人均页面浏览次数。
### 属性
为了帮助使用者更方便地使用我们的产品，我们目前分别为事件和用户提供了一些预置属性。
点击查看预置属性的详细介绍。
## 基础指标配置说明
### Web 端日活跃用户数（UV）
定义：1 天（00:00-24:00）之内，访问网站的不重复用户数，一天内同一访客多次访问网站只被计算 1 次。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692632984-9b2cac7a-94dc-4588-9b35-498f386c4533.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=586&id=ubd2496f5&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1172&originWidth=2111&originalType=binary&ratio=1&size=138679&status=done&style=none&taskId=ucd7350b8-9ed5-4120-93dd-8e94860497e&width=1055.5)
1. 选择“事件分析”功能。
2. 选择事件：Web 浏览页面。
3. 选择指标：用户数。
### App 端日活跃用户数（UV）
定义：1 天（00:00-24:00）之内，访问 App 的不重复用户数，一天内同一访客多次访问 App 只被计算 1 次。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692678799-70aa3ce7-1d6a-452b-964f-db73469f6fd9.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=324&id=u4dd4bf8e&margin=%5Bobject%20Object%5D&name=image.png&originHeight=647&originWidth=854&originalType=binary&ratio=1&size=72960&status=done&style=none&taskId=u5e7f9b6d-c943-49ac-ace2-96a22cb7d12&width=427)
1. 选择“事件分析”功能。
2. 选择事件：启动 App 。
3. 选择指标：用户数。
### 页面浏览量（PV）
定义：网页浏览是指浏览器加载（或重新加载）网页的实例。页面浏览量可以定义为网页浏览总次数的指标。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692692034-4590345c-db3b-4dec-85f0-9c57be066862.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=337&id=u8bb799f7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=673&originWidth=866&originalType=binary&ratio=1&size=78011&status=done&style=none&taskId=u669db79b-4dca-47f9-a315-cd48451bf5f&width=433)
1. 选择“事件分析”功能。
2. 选择事件：浏览页面。
3. 选择指标：总次数。
### 新增注册用户数
定义：当天注册用户数

![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692704596-09d8ded3-017b-4dcf-b1a4-4681b7383560.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=345&id=uf8e43416&margin=%5Bobject%20Object%5D&name=image.png&originHeight=690&originWidth=835&originalType=binary&ratio=1&size=75580&status=done&style=none&taskId=u3113ec86-1b2c-48b9-8167-d50f7827297&width=417.5)
1. 选择“事件分析”功能。
2. 选择事件：注册。
3. 选择指标：用户数。
### Web 端新用户数
定义：当日的独立访客中，历史上首日访问网站的访客定义为新用户。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692717296-ad1b4386-a6c4-4050-a78e-32c70f14cb00.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=346&id=u8f7981ec&margin=%5Bobject%20Object%5D&name=image.png&originHeight=692&originWidth=882&originalType=binary&ratio=1&size=85582&status=done&style=none&taskId=u4e2a3c8f-dad7-4465-a3d6-173af9edd61&width=441)

1. 选择“事件分析”功能。
2. 选择事件：Web 浏览页面。
3. 选择指标：用户数。
4. 添加筛选条件：是否首日访问为真。
### App 端新用户数
定义：当日启动 App 的用户中，历史上首日启动 App 的用户为新用户数。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692727825-bc4b660b-b05f-4d9f-8026-2ae1e5820598.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=352&id=ub1b3dc45&margin=%5Bobject%20Object%5D&name=image.png&originHeight=704&originWidth=865&originalType=binary&ratio=1&size=81592&status=done&style=none&taskId=u548c0155-827e-4364-a6fd-a88e3304cd3&width=432.5)
1. 选择“事件分析”功能。
2. 选择事件： App 启动。
3. 选择指标：用户数。
4. 添加筛选条件：是否首日访问为真。
### Web 端新用户比例
定义：当日的访客中，新用户在所有访客中占的比例。
* 首先创建虚拟事件：【Web】新用户访问
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692968714-5ed6fa8a-88f7-4895-81f9-d620864aeb52.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=328&id=u12936d7c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=656&originWidth=1149&originalType=binary&ratio=1&size=96976&status=done&style=none&taskId=u6942a277-dc85-46ca-8a01-398887a9dcf&width=574.5)
1. 点击页面“元数据”，找到虚拟事件。
2. 创建虚拟事件。
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629187833497-c6c44fee-dee9-4006-bba7-ce55bfb29925.png#clientId=ud443c626-774b-4&from=paste&id=uf242c33f&margin=%5Bobject%20Object%5D&originHeight=1354&originWidth=1560&originalType=url&ratio=1&status=done&style=none&taskId=u7a8d9af2-4c6a-420d-a2ce-6fcc827514b)
1. 设置虚拟事件名和显示名，如上图所示。
2. 虚拟事件的组成，选择事件：Web 浏览页面。
3. 添加限制条件：是否首日访问为真。
接下来我们来计算新用户比例这个指标
#### 切换自定义指标
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629692991756-e7f0b5ad-3fc5-4ef7-9d2e-27e9ca25f18b.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=185&id=u14ad7c0f&margin=%5Bobject%20Object%5D&name=image.png&originHeight=370&originWidth=923&originalType=binary&ratio=1&size=62347&status=done&style=none&taskId=u35f2789d-5981-4337-8277-5ea7429be36&width=461.5)
1. 点击左侧的事件分析功能。
2. 点击添加自定义指标，输入公式：【Web】新用户访问.用户数/  Web 浏览页面.用户数。
3. 命名为“新用户比例”。
4. 最后点击保存即可。
### App 端新用户比例
当日启动 App 的用户中，新用户在所有启动 App 的用户中所占的比例。
#### 首先创建虚拟事件：【App】新用户访问
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693041710-170c4f80-32d9-4b38-9429-b18af5235587.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=274&id=uecdaec0d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=547&originWidth=1144&originalType=binary&ratio=1&size=80707&status=done&style=none&taskId=ud18a4e41-99b6-497f-b06f-825897b62b2&width=572)
1. 点击页面“元数据”，找到虚拟事件。
2. 创建虚拟事件。
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629187834282-e42b9995-c84f-4dda-a2d4-aeaa7b3637a9.png#clientId=ud443c626-774b-4&from=paste&id=ud39f9ffd&margin=%5Bobject%20Object%5D&originHeight=1360&originWidth=1578&originalType=url&ratio=1&status=done&style=none&taskId=u21b42031-3003-4929-94aa-b11feaab278)
1. 设置虚拟事件名和显示名，如上图所示。
2. 虚拟事件的组成，选择事件：App 启动。
3. 添加限制条件：是否首日访问为真。
接下来我们来计算新用户比例这个指标
#### 切换自定义指标
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693055313-916690da-eacf-4172-8935-5cd7862d36eb.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=318&id=ue09e53a7&margin=%5Bobject%20Object%5D&name=image.png&originHeight=635&originWidth=878&originalType=binary&ratio=1&size=81581&status=done&style=none&taskId=u01bd7a6f-e2c8-4b7a-9f7f-4db0ade5a96&width=439)
1. 点击左侧的事件分析功能。
2. 点击添加自定义指标，输入公式：【App】新用户访问.用户数/ App 启动.用户数
3. 命名为“新用户比例”。
4. 最后点击保存即可。
### 启动次数
定义：启动 App 的次数
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693066178-c01fa508-d293-4ee2-8c44-c01e68bc13f7.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=274&id=u25a2aa0a&margin=%5Bobject%20Object%5D&name=image.png&originHeight=548&originWidth=906&originalType=binary&ratio=1&size=62796&status=done&style=none&taskId=uaf95da73-12f9-461d-bd24-82f40b98b7d&width=453)
1. 点击左侧的事件分析功能。
2. 选择事件：启动 App。
3. 选择指标：总次数。
### Web 端新用户留存率
定义：在互联网行业中，用户在某段时间内开始使用应用，经过一段时间后，仍然继续使用该应用的用户，被认作是留存用户。这部分用户占当时新增用户的比例即是留存率，会按照每隔1单位时间（例日、周、月）来进行统计。顾名思义，留存指的就是“有多少用户留下来了”。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693083827-d9ed2ca3-edef-42a6-af56-9d11cc840908.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=228&id=uf94d1e32&margin=%5Bobject%20Object%5D&name=image.png&originHeight=456&originWidth=942&originalType=binary&ratio=1&size=61359&status=done&style=none&taskId=u214d9973-ebab-4837-ab21-b66c7a47efe&width=471)
1. 选择留存分析功能。
2. 初始行为：选择 Web 浏览页面。
3. 添加筛选条件：是否首日访问为真。
4. 后续行为：选择任意事件。
5. 选择日留存、周留存、月留存。
### App 端新用户留存率
定义：在互联网行业中，用户在某段时间内开始使用应用，经过一段时间后，仍然继续使用该应用的用户，被认作是留存用户。这部分用户占当时新增用户的比例即是留存率，会按照每隔1单位时间（例日、周、月）来进行统计。顾名思义，留存指的就是“有多少用户留下来了”。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693094349-fb3bb999-e39f-4f85-bfbd-7cf51a7ae0a6.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=226&id=ueb1a5001&margin=%5Bobject%20Object%5D&name=image.png&originHeight=452&originWidth=949&originalType=binary&ratio=1&size=62102&status=done&style=none&taskId=u234dc0e1-7925-42dc-80a6-cdb5331c788&width=474.5)
1. 选择留存分析功能。
2. 初始行为：选择 App 启动。
3. 添加筛选条件：是否首日访问为真。
4. 后续行为：选择任意事件。
5. 选择日留存、周留存、月留存。
### 购买转化率
定义：当日访客中，有多少比例的客户购买。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693104119-c9ea1358-a266-4ec0-b7ae-89bf863eb1ef.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=212&id=u226ebe48&margin=%5Bobject%20Object%5D&name=image.png&originHeight=424&originWidth=945&originalType=binary&ratio=1&size=51869&status=done&style=none&taskId=u9904c4cf-cbf8-4d9d-b724-69c3e14a49a&width=472.5)
1. 点击左侧的事件分析功能。
2. 点击添加自定义指标，输入公式：支付订单.用户数/ Web 浏览页面.用户数。
3. 命名为“付费率”。
4. 最后点击保存即可。

---

**以下指标“访问次数、平均交互深度、平均使用时长、页面平均停留时长、跳出率、页面退出率”需引入 Session 才能分析。**
Session 即会话，是指在指定的时间段内在您的网站上发生的一系列互动。例如，一次会话可以包含多个网页或屏幕浏览、事件、社交互动和电子商务交易。
我们需要先创建一个 Session
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693118192-142d4d7e-ca63-437f-b62c-739b32b257c7.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=253&id=u65e6044b&margin=%5Bobject%20Object%5D&name=image.png&originHeight=505&originWidth=1127&originalType=binary&ratio=1&size=83075&status=done&style=none&taskId=u104c46f0-9baa-4f24-966c-186a708a992&width=563.5)
1. 点击页面上的“元数据”。
2. 点击 Session 管理。
3. 点击创建 Session。
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629187835903-7257e0e8-8692-41bb-ae54-126512d7f400.png#clientId=ud443c626-774b-4&from=paste&id=u1986ac66&margin=%5Bobject%20Object%5D&originHeight=1358&originWidth=1570&originalType=url&ratio=1&status=done&style=none&taskId=ue40936c9-00d2-401a-b829-0c7a1d6a117)
1. 输入 Session 名：session。
2. 输入 Session 显示名：全站 Session。
3. 选择事件：选择 Session 包含的事件，如全选。
4. 设置切割规则：30分钟。
5. 点击保存，即创建成功。
_一般 Web 端产品建议切割时间为 30 分钟，App 端产品建议切割时间为 1 分钟。_
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693132042-0b67123d-d833-4704-9914-9ab28045e1f7.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=327&id=u0414c7f9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=654&originWidth=874&originalType=binary&ratio=1&size=83742&status=done&style=none&taskId=ucf2a8bee-3a73-478c-b350-7020c241c1f&width=437)
1. 回到事件分析功能页面。
2. 切换分析规则为 Session。
至此，可以进行 Session 分析，计算上述指标。
### 访问次数
定义：访客从进入网站/ App 到离开网站/App 的一系列活动记为一次访问，也称会话（Session）。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693190697-5f50b966-31b2-4868-82ae-21db652c8408.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=268&id=u88c66ae2&margin=%5Bobject%20Object%5D&name=image.png&originHeight=535&originWidth=916&originalType=binary&ratio=1&size=70170&status=done&style=none&taskId=u1c9ae8df-d2f9-43d0-b14b-1ba1e35e024&width=458)
1.  选择事件分析，切换分析规则为 Session。
2. 选择 Session：全站 Session。
3. 选择 Session 总体。
4. 选择指标：Session 总次数。
### 平均交互深度
定义：等于所有 Session 内事件数之和除以总的 Session 数。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693202386-d94910ee-c664-4b8d-a3c9-e66a05b61f26.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=271&id=u9a5c0bb9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=542&originWidth=930&originalType=binary&ratio=1&size=105138&status=done&style=none&taskId=uf60018e1-9328-4ead-9c9e-f16a8941f8a&width=465)
1.  选择事件分析，切换分析规则为 Session。
2. 选择 Session：全站 Session。
3. 选择 Session 总体。
4. 选择指标：Session 深度的均值。
### 平均使用时长
定义：等于所有用户的 Session 时长之和除以 Session 数。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693211188-4e3f5a85-e02f-4810-9446-10f7e1aaf9c2.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=248&id=ua83a8eb0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=496&originWidth=962&originalType=binary&ratio=1&size=96445&status=done&style=none&taskId=u5d066dd9-381a-4f89-9852-c022a9555c0&width=481)
1.  选择事件分析，切换分析规则为 Session。
2. 选择 Session：全站 Session。
3. 选择 Session 总体。
4. 选择指标：Session 时长的均值。
### 页面平均停留时长
定义：等于页面停留时长的总和除以页面被浏览的触发数。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693220714-7be58b39-9b4f-4c38-9fad-c1abfe7a8b64.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=271&id=u70c4c59d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=542&originWidth=925&originalType=binary&ratio=1&size=112325&status=done&style=none&taskId=u6bd015bf-69ef-4623-b3b4-7e849525742&width=462.5)
1.  选择事件分析，切换分析规则为 Session。
2. 选择 Session：全站 Session。
3. 选择 Session 内事件：Web 浏览页面。
4. 选择指标：Session 内事件时长的均值。
### 跳出率
定义：当一个 Session 仅有一个事件时，即视为跳出，一般情况这个事件以浏览页面居多。所以 Session 整体跳出率等于跳出的 Session 数除以 Session 总数，而具体事件或页面的跳出率，可以按属性查看或筛选得出。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693230314-3f010f92-2569-4bd1-86bc-4d69eb713930.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=284&id=u6d69882c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=567&originWidth=949&originalType=binary&ratio=1&size=75495&status=done&style=none&taskId=uabd518fe-eb83-4ed4-94c8-0f219537ebb&width=474.5)
1.  选择事件分析，切换分析规则为 Session。
2. 选择 Session：全站 Session。
3. 选择 Session 总体。
4. 选择指标：跳出率。
5. 按“总体查看”即为网站整体跳出率，按“网页URL”查看，即页面跳出率。
### 页面退出率
定义：当用户在某个页面结束了该 Session 时即视为退出，所以页面退出率等于退出的页面数除以该页面的总浏览次数。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693239433-e18cfb51-1db6-4c87-8c77-ee96cb16b40f.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=311&id=u5f5547d2&margin=%5Bobject%20Object%5D&name=image.png&originHeight=622&originWidth=873&originalType=binary&ratio=1&size=82438&status=done&style=none&taskId=u5b767e08-7982-4072-ac18-64347682260&width=436.5)
1.  选择事件分析，切换分析规则为 Session。
2. 选择 Session：全站 Session。
3. 选择 Session 内具体事件：Web 浏览页面。
4. 选择指标：退出率。
5. 选择属性分组：网页 URL。

### 如何创建购买转化漏斗
可以假设这样一种场景，用户从看到某一个促销活动到最终购买，可能会经历这样一个过程“浏览活动页—浏览商品列表页—浏览商品详情页—加入购物车—提交订单—支付订单”，我们可以对这样一个过程建立一个购买转化漏斗，来帮助你分析一个多步骤过程中每一步的转化与流失情况。

**创建漏斗**
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693262365-22d69ad9-896b-484c-8935-a62e4a2a5461.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=599&id=uc2dc5aab&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1197&originWidth=2133&originalType=binary&ratio=1&size=186770&status=done&style=none&taskId=u74cbd1eb-90fb-49e2-975b-d42828d8958&width=1066.5)
1. 点击左侧的漏斗分析功能。
2. 点击页面中的创建漏斗按钮。
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629187838101-41bf511b-1364-46f7-82f2-0f5b61c7214e.png#clientId=ud443c626-774b-4&from=paste&id=u8a1d0b69&margin=%5Bobject%20Object%5D&originHeight=1440&originWidth=1312&originalType=url&ratio=1&status=done&style=none&taskId=uf47d78fb-08b2-4a64-8624-2b2531ba9cf)
1.  填写漏斗名称。给你的漏斗取一个具有代表性的友好名称。同一项目内，漏斗不可重名。
2. 选择漏斗窗口期。整个漏斗流程的完成所需要的时间。
3. 增加漏斗步骤。一个漏斗中至少包含 2 个步骤，每个步骤对应一个事件，可附带一个或多个筛选条件，如第 1、2、3 步对页面标题和页面地址的筛选，以便找到满足我们需求的页面。
4. 如有需求，可以继续给漏斗增加步骤。
5. 最后保存漏斗即可。
**分析漏斗**
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693282268-48eeec4c-ea27-4f51-8809-0552c7e5e679.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=365&id=u43cf3821&margin=%5Bobject%20Object%5D&name=image.png&originHeight=729&originWidth=962&originalType=binary&ratio=1&size=120259&status=done&style=none&taskId=ua3d1d21a-4f30-44ef-89ac-2ce62a315d0&width=481)
1. 选择查看漏斗的方式。先按总体查看总体转化率。
2. 从漏斗图可以看到每一步的转化率。
3. 如果想看某一步的流失用户数，找到流失用户列表，即可看到有多少用户流失了。点击流失用户数，即可看到该批流失用户的详细信息。
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629187838352-c4c89468-f1c9-4e46-ab4e-a5a36eedcede.png#clientId=ud443c626-774b-4&from=paste&id=uaa1ec3f7&margin=%5Bobject%20Object%5D&originHeight=310&originWidth=2460&originalType=url&ratio=1&status=done&style=none&taskId=u5096c6d0-447b-43ae-9423-5d9d7f546de)
点击用户列表的设备 ID 这列 ，即可看到该用户在流失前详细的用户行为路径。

优化好漏斗后，我们就可以定期观察总体以及每一步漏斗转化率变化趋势了。那么不同细分维度的漏斗表现怎么样呢？
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693295404-51afecf5-1145-4388-b920-69cbfe841af6.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=215&id=ued81dab3&margin=%5Bobject%20Object%5D&name=image.png&originHeight=429&originWidth=965&originalType=binary&ratio=1&size=83118&status=done&style=none&taskId=u514279d6-f5e6-406f-ba84-58ea39abeec&width=482.5)
1.  按第一步广告系列来源查看。
2. 切换对比，勾选要对比的两个渠道，就能看到两个渠道对比的总转化率和每一步转化率的区别。
3. 如想看某个广告系列下这两个渠道的对比数据，则可以增加筛选条件：比如广告系列名称等于双十一促销。
## 属性筛选条件说明
### 什么是筛选条件
筛选条件是为了在我们取到的数据集中，通过设置一个条件进行过滤，获取我们最终想得到的子数据集进行分析。小象数据所有的分析功能中都有筛选条件的选项，均可以实现根据事件的属性进行筛选或根据用户的属性进行筛选。
筛选条件可类比于 SQL 中的 where 条件语句。
当使用用户筛选条件时， where 条件作用于 users 表；当使用事件筛选条件时， where 条件作用于 events 表。
### 使用流程
### [![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629188228271-815214e4-bc2e-4dc5-a3ab-7deea0eb1dc2.png#clientId=ud443c626-774b-4&from=paste&id=u2636a8de&margin=%5Bobject%20Object%5D&originHeight=970&originWidth=1144&originalType=url&ratio=1&status=done&style=none&taskId=uad215343-a88f-44c1-b4b9-aa2d7c2326b)](https://manual.sensorsdata.cn/sa/files/latest/22249980/22249974/1/1607597212000/image2020-12-10_18-21-46.png)
在小象数据所有的分析功能中，我们可以看到「筛选」、「全局筛选」等按钮时，代表此处可以对用户或事件进行筛选，参考上图中的标识，具体配置流程如下：

1. 点击弹出筛选条件输入框，可以同时添加一个或多个筛选条件。
1. 在 B 中选择筛选事件或用户的属性。
1. 在 C 中选择属性的 判断类型 ，不同的属性类型拥有不同的 判断类型，不同 判断类型 的使用方法可参考第 3 部分。
1. 在 D 选项中输入 判断值 后，分析结果即会根据输入条件进行筛选。
### 筛选条件分类
#### 按目标
筛选用户：筛选条件作用于用户表，只看符合筛选条件的那些用户；一般在用户属性上进行条件设置，或者选择用户分群获取符合分析条件的用户。
筛选事件：筛选条件作用于事件，只看符合筛选条件的事件；一般在事件属性上进行条件设置。
#### 按数据类型
不管是为了筛选出不同用户或筛选不同事件，具体的每一个筛选条件的设置，都可以按其数据类型来了解。

1. 字符串类型属性筛选

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629188228816-0983a78e-2b78-4074-b92c-72d558794461.png#clientId=ud443c626-774b-4&from=paste&id=u4e352e24&margin=%5Bobject%20Object%5D&originHeight=978&originWidth=1114&originalType=url&ratio=1&status=done&style=none&taskId=u6f35c3d4-7de0-4bf5-abac-32034a91e69)](https://manual.sensorsdata.cn/sa/files/latest/22249980/22249975/1/1607597212000/image2020-12-10_18-27-33.png)
当筛选的属性为字符串类型时，可以看到如上图中标识的判断类型，具体每个判断类型的使用可参考下表：

| **判断类型** | **类比 SQL** | **描述说明** |
| --- | --- | --- |
| 等于 | = | 精确判断，只有选择的事件属性等于输入的判断值时，该事件才会进入分析过程；当判断值存在多个时，事件属性值等于任意一个，该事件都会进入分析的数据集 |
| 不等于 | != | 精确判断，只有选择的事件属性不等于输入的判断值时，该事件才会进入分析过程；当判断值存在多个时，事件属性值等于任意一个，该事件就不会进入分析过程 |
| 包含 | LIKE "%$判断值%" | 匹配判断，当属性字段中包含判断值，该事件或用户就会进入分析过程 |
| 不包含 | NOT LIKE "%$判断值%" | 匹配判断，与“包含”相反，当属性字段中包含判断值，该事件不会进入分析过程 |
| 不为空 | Length($属性)>0 | 当属性字段中有值(字符串长度大于 0 )时，事件或用户才会进入分析过程 |
| 为空 | ="" | 当属性字段中值为空字符串时，事件或用户才会进入分析过程 |
| 没值 | IS NULL | 只有属性字段中值为 NULL 时，事件或用户才会进入分析过程 |
| 有值 | IS NOT NULL | 只有属性字段中值不为 NULL 时，事件或用户才会进入分析过程 |
| 正则匹配 | 

 | 匹配判断，符合条件的数据进入分析过程，具体请参考：[正则表达式](https://manual.sensorsdata.cn/sa/latest/guide_auxiliary_regular-7540270.html) |
| 正则不匹配 | 

 | 匹配判断，只有不符合正则条件的数据进入分析过程，具体请参考：[正则表达式](https://manual.sensorsdata.cn/sa/latest/guide_auxiliary_regular-7540270.html) |

2. 数值类型属性筛选

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629188229235-588a394d-c07a-4190-a35a-9dd5526496d1.png#clientId=ud443c626-774b-4&from=paste&id=u4b29be88&margin=%5Bobject%20Object%5D&originHeight=806&originWidth=1164&originalType=url&ratio=1&status=done&style=none&taskId=u63846be4-fb4f-4105-ae5a-c0f6548fc10)](https://manual.sensorsdata.cn/sa/files/latest/22249980/22249976/1/1607597212000/image2020-12-10_18-32-42.png)
当筛选的属性为数字类型时，可以看到如上图中标识的判断类型，具体每个判断类型的使用可参考下表：

| **判断类型** | **类比表达式** | **描述说明** |
| --- | --- | --- |
| 等于 | = | 类同于字符串类型 |
| 不等于 | != | 类同于字符串类型 |
| 小于 | < | 所选属性值小于判断值的事件才会进入分析过程 |
| 大于 | > | 所选属性值大于判断值的事件才会进入分析过程 |
| 区间 | between . and . | 所选属性值处于设置的判断值所形成的闭区间时，事件才会进入分析流程；如判断值设置为 10 和 100 时，所选属性值需要满足 [10,100] 区间 |
| 有值 | IS NOT NULL | 类同于字符串类型 |
| 没值 | IS NULL | 类同于字符串类型 |

3. 时间类型属性筛选

**名词解释**

- 绝对时间：有明确开始和截止时间的一个固定时间范围
- 相对时间：相对于某个时间点，确定一个开始时间和截止时间的时间范围
- 相对当前时间点：相对于当前之前的一段时间范围，比如之前 1 小时
- 相对当前时间区间：相对当前的时间点，确定一个开始时间和截止时间

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629188229359-f56406a7-962e-4f00-a828-6d900142f510.png#clientId=ud443c626-774b-4&from=paste&id=uccf65f53&margin=%5Bobject%20Object%5D&originHeight=812&originWidth=1504&originalType=url&ratio=1&status=done&style=none&taskId=uc2483ac9-3ba0-4182-b503-2eeb949843d)](https://manual.sensorsdata.cn/sa/files/latest/22249980/22249977/1/1607597212000/image2020-12-10_18-35-39.png)
当筛选的属性为时间类型时，可以看到如上图所示的判断类型，具体每个判断类型使用可参考如下：
**绝对时间**
如设置绝对时间在 2017-07-04 00:00 至 2017-07-11 00:00，则所选属性时间范围在此区间（包含区间端点）的数据会进入分析过程
**相对当前时间点**
如相对当前时间点在 1 天之内，则表示当前时间点减一天为起点，当前时间点为终点的时间区间。即 [当前时间点 - 1 天, 当前时间点]
如相对当前时间点 1 天之前，则表示当前时间点减一天为终点之前的时间区间。即 ( 无穷小时间, 当前时间点 - 1 天]
**相对当前时间区间**
如设置相对当前时间的过去 5 天到过去 3 天之内，则表示以当前时间点 - 5 天为起点，以当天时间点 - 3 天为终点的时间区间，即 [当前时间点 - 5 天, 当天时间点 - 3 天]
**相对事件发生时间**
此处以事件发生的时间锚点去设置时间区间的起点和终点，所以对于每一条需要判断的事件或用户数据，所对应判断的时间区间是不一样的。
比如我们想要看到购买事件发生前 5 分钟进行注册事件的用户数量时，可设置 注册时间 相对事件发生时间 在之前 5 分钟内。基于“用户注册后，立马购买的商品是吸引用户注册的原因”这样一个假设，我们可以查看那类型商品比较容易吸引用户注册来购买。或者替换成优惠券，可查看那类型优惠券更容易吸引用户。
此处的「之前 N 天内」或「之后 N 天内」均包含事件发生当天。
**有值 & 没值**
请参考字符串类型中，有值 & 没值的描述

4. 布尔类型属性筛选

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629188229722-34f1bd15-c40a-42ec-92f3-2a81ed686c25.png#clientId=ud443c626-774b-4&from=paste&id=u02210031&margin=%5Bobject%20Object%5D&originHeight=610&originWidth=728&originalType=url&ratio=1&status=done&style=none&taskId=u6409c128-807f-485a-88f1-f6fab490747)](https://manual.sensorsdata.cn/sa/files/latest/22249980/22249978/1/1607597212000/image2020-12-10_18-41-0.png)
当筛选的属性为布尔类型时，可以看到如上图所示的判断类型，具体每个判断类型使用如下：
**为真**
表示当选择属性值为 TURE 时，数据才会进入分析过程。
**为假**
表示当选择属性值为 FALSE 时，数据才会进入分析过程。
**有值&没值**
请参考字符串中，有值 & 没值的描述

5. 带字典类型属性的筛选

在小象分析的元数据管理中，可以对属性设置 [维度字典](https://manual.sensorsdata.cn/sa/latest/guide_auxiliary_dimension-17565468.html)，对于已经设置 [维度字典](https://manual.sensorsdata.cn/sa/latest/guide_auxiliary_dimension-17565468.html) 的字段，筛选条件如下图，具体的判断字段使用可参考字符串类型中相应类型。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629188229883-d380d9ca-4bc1-4595-870e-0158e728d03d.png#clientId=ud443c626-774b-4&from=paste&id=u3a9a0c28&margin=%5Bobject%20Object%5D&originHeight=992&originWidth=1144&originalType=url&ratio=1&status=done&style=none&taskId=ua1f51cd1-e67d-4bb1-97da-dac8e30bda0)](https://manual.sensorsdata.cn/sa/files/latest/22249980/22249979/1/1607597212000/image2020-12-10_18-44-0.png)

6. 用户分群的筛选

在进行条件筛选时，如果选择用户分群，则判断条件选择跟布尔类型相同，表示用户是否在该分群之内。
### 十大分析模型


# 概览
### 公共概览
#### 概述
公共概览主要用于管理企业级需要共同关注的重要概览，打造企业的数据公共空间，由具有「管理公共概览」权限的成员共同维护。（原 1.13 - 1.15 版本中的「预置概览」更名为「基础数据概览」仅可在「公共概览」中查看。）
在公共概览可以进行创建、复制、排序等基础操作，为了使用的顺畅性，所有的功能操作方式和「我的概览」一致，使用说明请参考「我的概览」中的明细介绍。
#### 如何使用公共概览
「公共概览」中的基本操作与「我的概览」中的均一致，如需了解请查看上一节「如何使用概览」的明细介绍。接下来主要介绍一下「公共概览」中区别于「我的概览」的功能。
[查看基础功能使用说明 >](https://manual.sensorsdata.cn/sa/latest/tech_knowledge_layout-22249967.html#id-.%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8Fv2.1-%E5%B1%9E%E6%80%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B)
点击切换到「公共概览」后，底部的操作将仅与公共概览有关，具有「管理公共概览」权限的成员方可看到此管理功能。
![image.png](https://cdn.nlark.com/yuque/0/2021/png/398185/1629693399194-f1e0aa84-b61a-4054-abfe-c87724a61e2d.png#clientId=u85bc8dd2-bf3b-4&from=paste&height=586&id=u08df735d&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1171&originWidth=2131&originalType=binary&ratio=1&size=264190&status=done&style=none&taskId=ueb18371f-4a7a-4a26-bac2-5c8fcb1b24c&width=1065.5)
# 事件分析
## 事件分析概述
事件，是追踪或记录的用户行为或业务过程。举例来说，一个电商产品可能包含如下事件：用户注册、浏览商品、添加购物车、支付订单等。
事件分析，是指基于事件的指标统计、属性分组、条件筛选等功能的查询分析。借助于小象分析强大的筛选、分组和聚合能力，事件分析可以帮助回答以下问题：

- 最近三个月来自哪个渠道的用户注册量最高？变化趋势如何？
- 各个时段的人均充值金额是分别多少？
- 上周来自北京的，发生过购买行为的独立用户数，按照年龄段的分布情况？
- 每天的独立 Session 数是多少？

根据您的产品特性合理配置追踪事件和属性，可以激发出事件分析的强大潜能，回答关于变化趋势、维度对比的各种细分问题。
### 事件分析界面功能简介

- 可以对一个指标进行分析，比如对『提交订单』的『触发用户数』。也可以再添加一个指标，同时对多个指标进行分析。
- 对事件的『触发用户数』进行分析，还可以下载行为相关的用户详情，见下图。

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197092369-ca94161b-17dd-48e3-b681-58a5da0bb40c.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u19a6300e&margin=%5Bobject%20Object%5D&originHeight=830&originWidth=1187&originalType=url&ratio=1&status=done&style=none&taskId=uc545daf2-ee84-4613-b2f6-ae111e6272c)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293000/1/1627547932000/image2020-8-25_16-50-1.png)
#### 选择分析方式
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197092388-4d3505b9-a400-4b97-9510-cb2b0bcc9227.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u4a1c8629&margin=%5Bobject%20Object%5D&originHeight=172&originWidth=339&originalType=url&ratio=1&status=done&style=none&taskId=ubbc8f074-697a-4fc6-a0ad-61394286b48)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33292999/1/1627547932000/image2020-10-30_16-28-1.png)
#### 选择指标
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197093278-b4d89720-3ff2-4c5b-a98e-d2e7ae4509d5.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u44efacd7&margin=%5Bobject%20Object%5D&originHeight=892&originWidth=1568&originalType=url&ratio=1&status=done&style=none&taskId=ue1d24afb-a4c0-4db0-9c73-37b3abbae95)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33292998/1/1627547932000/image2020-12-14_10-29-14.png)
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197093362-e9f1740f-3f6b-40c7-a5fd-17596a805561.png#clientId=u20cf5fef-7bb6-4&from=paste&id=uaf7e56ba&margin=%5Bobject%20Object%5D&originHeight=994&originWidth=1234&originalType=url&ratio=1&status=done&style=none&taskId=u696b2b78-442b-4fc5-a226-136d03d423e)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33292996/1/1627547932000/image2020-12-14_11-44-7.png)

1. 添加常规指标

在第一个下拉框中选择事件，在第二个下拉框中选择要分析的指标，点击![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197093524-8f6e9b4c-0a7c-459e-a0d1-7af3578735c1.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u77de2773&margin=%5Bobject%20Object%5D&originHeight=26&originWidth=56&originalType=url&ratio=1&status=done&style=none&taskId=ub73f04a9-18e2-436e-8a2d-e94b012f34e)可以添加多个指标。
对于所有事件，都可以分析如下指标：

1. **总次数：** 在选定时间范围内，该事件触发的次数。
1. **触发用户数：** 在选定时间范围内，触发该事件的独立用户数。
1. **人均次数：** 在选定时间范围内，独立用户触发该事件的平均次数。
1. **预定义指标**：只能在按天查询下使用，根据事件发生时间或选定时间范围进行汇总统计，稍后在自定义指标的使用示例中会详细介绍。

对于所有类型的属性，都可以将如下值作为分析指标：

1. **去重数**：在选定时间范围内，该属性出现的独立去重个数。

对于有数值型属性的事件，还可以将数值型属性作为分析指标：

1. **总和：** 在选定时间范围内，该属性的取值求和。
1. **均值：** 在选定时间范围内，该属性取值的算术平均值。
1. **最大值：** 在选定时间范围内，该属性取值的最大值。
1. **最小值：** 在选定时间范围内，该属性取值的最小值。



2. 添加自定义指标（搭配预定义指标实现分析场景）

对于某些特殊的分析场景，需要使用自定义指标来实现计算，**事件分析支持预定义指标作为分析指标，我们来列举两个例子**：

1. 当天的活跃用户数占当月活跃用户数的比率，此场景下会将当前日期所在月份的活跃用户数作为分母参与计算；
1. 当天的活跃用户数占选定时间范围的活跃用户数的比率，此场景下会将所选时间范围的总活跃用户数作为分母参与计算；

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197093787-fa8230e0-edd2-421f-b168-0adcfe23d8f9.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u8910a1c9&margin=%5Bobject%20Object%5D&originHeight=962&originWidth=1228&originalType=url&ratio=1&status=done&style=none&taskId=ud16a8e0a-4ee7-46a1-89e0-454f65bceda)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33292995/1/1627547932000/image2020-12-14_11-54-16.png)
以上两个场景可以通过添加自定义指标来实现，首先添加一个自定义指标： 
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197093940-9f74a63a-057d-49b7-bc21-7064fb2ec56e.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u7bb39a45&margin=%5Bobject%20Object%5D&originHeight=128&originWidth=366&originalType=url&ratio=1&status=done&style=none&taskId=u55d0b6ec-fc9f-42db-be22-f031e6bdea3)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293006/1/1627547931000/image2020-8-25_17-8-19.png)
即能进入自定义指标的编辑界面： 
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197094058-2eeb4593-836c-4407-9443-5614942d8d94.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u67c1717b&margin=%5Bobject%20Object%5D&originHeight=95&originWidth=689&originalType=url&ratio=1&status=done&style=none&taskId=ue1d99b8e-9b12-45d3-8c0b-a7a3caf3e63)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293007/1/1627547931000/image2020-8-28_15-0-28.png)
在这里，可以做如下的一些操作：

1. 选择需要组合的常规指标、设置常数，通过四则运算来得到自己想要的结果，我们设置为「提交订单的用户数」/「提交订单的当月用户数」；
1. 可以自定义一个指标名，例如重命名为「提交订单 DAU/MAU」；
1. 在设置好指标计算公式后，可以选择“百分比”、“两位小数”、“三位小数”、“取整”三种展现样式，我们选择百分比；
1. 点击![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197094240-de88174f-c8d1-4cf3-9853-589a4e876e84.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u98177c2d&margin=%5Bobject%20Object%5D&originHeight=18&originWidth=15&originalType=url&ratio=1&status=done&style=none&taskId=u4328c7ea-e03c-4a7c-b199-49e7b378449)可以保存这个自定义指标，如果开启了自动查询，保存后会自动触发查询；
#### 添加筛选条件
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197094480-0ab28bac-8640-4c9e-b3b5-8b2dd325c6fa.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u95d57ab7&margin=%5Bobject%20Object%5D&originHeight=180&originWidth=772&originalType=url&ratio=1&status=done&style=none&taskId=u5cb137c5-c3aa-4bfa-bdb6-d0694f723c8)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293009/1/1627547931000/image2020-8-28_15-45-59.png)
在 2.1 之前的事件分析中如果想要对男和女分别做出年龄段限制来查询，需要用两次查询来实现，本次更新中支持了两层的嵌套筛选可以直接进行查询
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197094672-0107070c-8d39-4428-aae1-9923840a11b9.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u5ae7de03&margin=%5Bobject%20Object%5D&originHeight=214&originWidth=666&originalType=url&ratio=1&status=done&style=none&taskId=u8f1856e6-98a7-4e14-8a0f-beb1a99c1ca)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293010/1/1627547931000/image2020-8-28_15-48-14.png)
在需要用组合条件来筛选的属性后点击![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197095076-325c8258-dcfe-42cd-8dd4-97cfc21cb835.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u19f2ae2f&margin=%5Bobject%20Object%5D&originHeight=15&originWidth=74&originalType=url&ratio=1&status=done&style=none&taskId=ufe173cfd-b843-4b07-98cf-e43cc9813ab)来增加嵌套筛选，设置完成后如下图：
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197095072-9e8f6a60-f025-4f6b-86eb-8599c57d31b2.png#clientId=u20cf5fef-7bb6-4&from=paste&id=ua1df9921&margin=%5Bobject%20Object%5D&originHeight=293&originWidth=561&originalType=url&ratio=1&status=done&style=none&taskId=u1a277c83-332d-4b5f-9971-4ff85233728)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293012/1/1627547931000/image2020-8-28_15-53-50.png)
本次更新也新增了一项筛选属性「事件发生时间」，可以按「时段区间」过滤，支持设置按小时（0-23）过滤

#### 按分组（维度）查看
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197095521-959674fc-8e96-4eb5-aeb3-e1b95e2f3527.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u52b0802b&margin=%5Bobject%20Object%5D&originHeight=407&originWidth=886&originalType=url&ratio=1&status=done&style=none&taskId=u3fadeccb-a91b-472e-a72c-140f9d1dc28)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293013/1/1627547931000/image2020-8-28_15-59-7.png)
按维度查看数据，可以进行更加精细化的分析。这里支持通过多个维度分析数据。
用法举例：
我们可以将提交订单的用户按国家、省份、城市来进行分组，以便对比不同地区的提交订单的用户数情况。

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197095759-fd6982cc-d7d3-4267-8c3f-9d53951923b4.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u23d52b30&margin=%5Bobject%20Object%5D&originHeight=194&originWidth=610&originalType=url&ratio=1&status=done&style=none&taskId=ucaed370c-5c29-460a-9458-a637c2dc866)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293014/1/1627547931000/image2020-8-28_19-30-27.png)
当用户分组的属性是数值类型时，可以自定义分组区间

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197096253-21872152-07b1-481b-a34c-41db80c0473f.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u61f0f133&margin=%5Bobject%20Object%5D&originHeight=244&originWidth=610&originalType=url&ratio=1&status=done&style=none&taskId=uefd6b8ab-5fbf-4e69-bec1-d4cd4d8549b)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293015/1/1627547931000/image2020-8-28_19-32-6.png)
如果这里选择的是时间类型，可以选择不聚合，按照时间单位分钟/天/小时等进行分组查看，也可以选择按照时间段汇总，例如，以『按天（日期）』汇总，查询会将当前时间段内的每月第几天的数据汇总到一起，会得到每月 1 号到每月 31 号的汇总数据，展示的注册时间属性的值为 1 ~ 31，含义为 1 日 ~ 31 日 的汇总数据，如果按分钟汇总，则结果为 0 ~ 59 。
如果没有设置，查询引擎会动态计算分组区间。此设置仅在当前查询生效，将查询保存为书签后在书签中也生效。
#### 时间组件
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197096327-e11ce609-6900-4eaa-b093-41f337e0f409.png#clientId=u20cf5fef-7bb6-4&from=paste&id=ubfd5be9e&margin=%5Bobject%20Object%5D&originHeight=710&originWidth=1472&originalType=url&ratio=1&status=done&style=none&taskId=u6ae33f9d-8b0f-44c4-86f3-8a01a864f39)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33292994/1/1627547932000/image2020-12-14_13-52-52.png)
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197096384-42911cc7-0458-4b9d-b0e6-97c58d39e008.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u3a72075d&margin=%5Bobject%20Object%5D&originHeight=774&originWidth=1488&originalType=url&ratio=1&status=done&style=none&taskId=u525f2c31-b42d-4285-81eb-e55337ec8d4)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33292993/1/1627547932000/image2020-12-14_13-54-37.png)

1. **查询的时间粒度**

可选择的数据聚合时间单位，例如选择查看数据的时间范围是 2020-09-10 日：

1. 按分钟：按照分钟聚合，即查看 2020-09-10 日这一天每一分钟的数据，最多可展示 1 天的数据。
1. 按小时：按照小时聚合，即查看 2020-09-10 日这一天每一小时的数据，最多可展示 30 天的数据。
1. 按天：按天聚合，即查看 2020-09-10 日这一天的数据。
1. 按周：按周聚合，即查看 2020-09-10 日这一天所在一整周的数据。
1. 按月：按月聚合，即查看 2020-09-10 日这一天所在一整月的数据。



2. **静态时间和动态时间**

静态时间下在快速选择区域选择时间范围与在日历框中选择起始日期，当保存至概览时会设置成固定时间，日期不会随着时间的推移而改变。
举例：
今天是 1 月 1 日，我们选择左侧的「今日」并创建概览，查询的数据是 1 月 1 日的，到了 1 月 2 日，这个概览的数据时间还会是 1 月 1 日。

动态时间下在快速选择区域选择时间范围与在日历框中选择起始日期，当保存至概览时会设置成动态时间，日期会随着时间的推移而改变。
举例：
今天是 1 月 1 日，我们选择左侧的「今日」并创建概览，查询的数据是 1 月 1 日的，到了 1 月 2 日，这个概览的数据时间会是 1 月 2 日。

3. **时间对比**

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197096915-715c61aa-8bf1-46d4-8fa7-70dc15bd5220.png#clientId=u20cf5fef-7bb6-4&from=paste&id=ua8a05e61&margin=%5Bobject%20Object%5D&originHeight=135&originWidth=106&originalType=url&ratio=1&status=done&style=none&taskId=udd7207a0-c95d-42b2-a8b3-1e20104edf3)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293018/1/1627547931000/image2020-8-28_19-49-29.png)
支持选择「上一段时间」「去年同期」「自定义」做为对比日期。
举例：
上一段时间：
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197096937-17311aed-3566-4824-86b0-b4fa4ae18d1c.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u4fe9d6c8&margin=%5Bobject%20Object%5D&originHeight=40&originWidth=706&originalType=url&ratio=1&status=done&style=none&taskId=u40e383d0-832e-46b4-ad05-40211422c44)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293019/1/1627547931000/image2020-8-28_19-51-36.png)
去年同期：
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197097062-6bc98333-9a76-4704-b320-873de9b145dd.png#clientId=u20cf5fef-7bb6-4&from=paste&id=ub0dd7b1c&margin=%5Bobject%20Object%5D&originHeight=45&originWidth=705&originalType=url&ratio=1&status=done&style=none&taskId=u5359acdd-de92-4299-87bd-eec7035976e)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293020/1/1627547931000/image2020-8-28_19-52-6.png)
自定义：
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197097118-cea906e3-9605-4eb2-86cd-5bcdbe4ecde1.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u59a32936&margin=%5Bobject%20Object%5D&originHeight=336&originWidth=535&originalType=url&ratio=1&status=done&style=none&taskId=u2305f197-ddff-418e-98ae-a053f3440ea)](https://manual.sensorsdata.cn/sa/files/latest/33293047/33293021/1/1627547931000/image2020-8-28_19-52-35.png)
### FAQ
#### 查看 App 端数据，为什么今天查看昨天的数据和昨天查看当天的数据不同
答：App 端有缓存机制。
#### 分组过多，数据显示不完整
答：可以通过查询 API 获取完整数据。
#### 事件分析里和漏斗里查看的用户数不一致
答 ：事件分析和漏斗分析逻辑不太一致。
#### 为什么分组和按总体查看的用户数不一致
答：以城市为例，同一个用户，在北京和上海两个城市浏览过同一个网页，如果按总体查看，数量为 1，如果按城市查看，北京和上海的用户中都会有这个用户。
#### 为什么合计值和每天相加的用户不一致
答：用户数有去重机制。
#### 为什么按天查看和按周查看数据不一致
答：按周查看，查看的是自然周的数据。
# 漏斗分析
## 漏斗分析概述
漏斗模型主要用于分析一个多步骤过程中每一步的转化与流失情况。
举例来说，用户购买商品的完整流程可能包含以下步骤：

1. 浏览商品
1. 将商品添加进购物车
1. 结算购物车中的商品
1. 选择送货地址、支付方式
1. 点击付款
1. 完成付款

可以将如上流程设置为一个漏斗，分析整体的转化情况，以及每一步具体的转化率和转化中位时间。同时也可以借助小象分析强大的筛选和分组功能进行深度分析。
[查看漏斗分析功能应用示例](https://manual.sensorsdata.cn/sa/latest/example_function_funnel-22252950.html)
## 漏斗界面功能简介
### 创建漏斗
点击界面右侧顶部的“创建漏斗”按钮，会滑出“创建漏斗”面板。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197480181-715d65e9-7436-4f50-a9bf-dbf7c9d33c6e.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u2d238a1e&margin=%5Bobject%20Object%5D&originHeight=1374&originWidth=1564&originalType=url&ratio=1&status=done&style=none&taskId=u820f59bc-020b-4621-bd42-17c30e7dd0a)](https://manual.sensorsdata.cn/sa/files/latest/16286907/22250251/1/1607933097000/image2020-12-14_16-4-57.png)

1. **​**漏斗名称

必填项。给你的漏斗取一个具有代表性的友好名称。同一项目内，漏斗不可重名。你创建的漏斗对同一项目中的其他用户也可见。

2. 漏斗窗口期

窗口期：用户完成漏斗的时间限制，即只有在这个时间范围内，用户从第一个步骤，行进到最后一个步骤，才能被视为一次成功的转化。
你需要在这里根据漏斗的性质选择合理的有效期。默认漏斗有效期为 30 天。1.4 及以后的版本中，除了下拉框中提供的有限选项以外，窗口期也可以由使用者自定义，最短 1 分钟，最长 3650 天。

3. 漏斗步骤

步骤：由一个 元事件/虚拟事件 加一个或者多个筛选条件组成，表示一个转化流程中的一个关键性的步骤。
一个漏斗中至少包含 2 个步骤，每个步骤对应一个事件（可附带一个或多个筛选条件）。
举例来说，某个步骤可以是触发“注册”且“使用了邀请码”。或者，“购买”且“品类”等于“女装”等。
拖动步骤前的序号可以改变步骤顺序。
1.4 及以后的版本，支持给漏斗步骤增加别名，在显示时更加方便易读。

4. 增加步骤

给漏斗增加更多步骤。

5. 漏斗属性关联

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197480891-93f2d2d8-25db-438b-828b-9eb3c8de9d19.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u9a38bf83&margin=%5Bobject%20Object%5D&originHeight=524&originWidth=794&originalType=url&ratio=1&status=done&style=none&taskId=u3daf14e5-9017-4163-956f-ce2caa1fbe9)](https://manual.sensorsdata.cn/sa/files/latest/16286907/16286914/1/1597217351000/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_974b3180-4349-45ba-9e62-182c2aa32ca2.png)
支持设置漏斗任意几步的属性进行关联，假设需要精确了解用户浏览了某个商品，并完成此商品购买的情况，创建的漏斗为 浏览商品详情页 -> 提交订单 -> 支付订单，并且在每个事件中设置了商品 ID 的属性，此时就可以将该属性作为关联 ID，以保证用户浏览商品详细页到支付订单的商品都是同一个。如果不设置商品 ID 为关联属性，则用户浏览商品详细页与支付订单的商品不是同一个，也会被算作转化成功。
漏斗不同步骤关联的属性可以是相同属性，也可以是不同属性，但是要求属性的类型必须一致。例如在浏览商品详情页事件中用商品 ID 标识某个商品，但在支付订单事件中用产品 ID 标识某个商品，此时就可以分别使用商品 ID 与产品 ID 来设置关联属性。

6. 保存漏斗

点击该按钮，保存新漏斗。
#### 分析漏斗
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197481231-5d974ab1-1fdc-4d8a-8b39-176d38f3b6d7.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u2e83ad45&margin=%5Bobject%20Object%5D&originHeight=1408&originWidth=2298&originalType=url&ratio=1&status=done&style=none&taskId=uacfa0c0c-4f70-4a46-baf4-9b0b5924762)](https://manual.sensorsdata.cn/sa/files/latest/16286907/22250253/1/1607934675000/image2020-12-14_16-31-14.png)

1. 切换漏斗，按分组查看，筛选

在这个区域，你可以切换需要展示的漏斗数据，或者对现有漏斗查询进行分组和筛选。
分组和筛选条件为三类字段，包括任意步骤的公共属性，每一步的事件属性以及用户属性 。
分组规则

- 任意步骤的公共属性：按照每个用户该属性的首次有效值进行分组，一个用户只会出 现在一个分组中。
   - XX 步骤的 YY 属性：按照每个用户首次最长转化状态中的第 XX 步骤的 YY 属性值进行分组 ，一个用户只会出现在一个分组中，如果用户没有转化到该步骤则分到未知组。
   - 用户属性：按照用户属性筛选。

筛选规则

- 任意步骤的公共属性：以每个用户YY属性的首次有效值进行筛选。
   - XX 步骤的 YY 属性：以每个用户首次最长转化状态中的第 XX 步骤的 YY 属性值进行筛选。
   - 用户属性：按照用户属性值筛选。

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197482030-320f3186-7624-4381-b447-2cfd2f3dec6d.png#clientId=u20cf5fef-7bb6-4&from=paste&id=ua6550975&margin=%5Bobject%20Object%5D&originHeight=756&originWidth=1550&originalType=url&ratio=1&status=done&style=none&taskId=ucb96bebd-f218-43d4-9d14-8c756965e76)](https://manual.sensorsdata.cn/sa/files/latest/16286907/22250255/1/1607935114000/image2020-12-14_16-38-34.png)
如果这里选择的属性是数值类型，可以自定义分组区间。如果没有设置，查询引擎会动态计算分组区间。此设置仅在当前查询生效，将查询保存为书签后在书签中也生效。

2. 3.2.2. 选择查询的时间范围，展示漏斗图表

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197482294-d4d9c800-51ef-42e4-b151-d58fd6e3ad1f.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u1bfe7a55&margin=%5Bobject%20Object%5D&originHeight=400&originWidth=655&originalType=url&ratio=1&status=done&style=none&taskId=ub7127501-28e9-4240-a851-291d9adb381)](https://manual.sensorsdata.cn/sa/files/latest/16286907/16286911/1/1597217351000/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_65e9608e-23bc-49f5-beb7-3974fe42a527.png)
设置的时间区间默认为漏斗首事件发生的时间范围。如果选中”限制窗口期在时间区间内”，漏斗中各步骤的发生时间在满足窗口期的同时，均被限定在所选时间区间内。
以电商的限时抢购为例，在 9 月 1 日至 7 日设置的限时抢购，用户该时段内完成交易享受特价优惠，超过限定时间商品恢复原价。该场景下需要精确了解用户在限订时段完成交易的情况，则需要设置该选项。例如，漏斗设置窗口期为 4 天，用户在 9 月 6 日发生了浏览， 9 月 8 日完成了交易，未设定该选择的漏斗则会把该交易也算为一次该漏斗的转化。设定该选择后，则不会被计算在内。

3. 3.2.3. 查看漏斗总体，或每个步骤的转化详情

当选择“趋势”，点击某个具体步骤，可以详细地查看两个步骤之间的流失用户数、转化用户数、转化时间中位数和转化率。当点击“总转化率”节点时，可以查看总体以及单步的转化率变化趋势，当点击单个步骤时，可以在表格中查看当前步骤的两个事件的触发用户数，流失用户数，转化率以及转化时间中位数。
当选择“对比”时，可以在“显示设置”中设置对比的两个指标，在下方的漏斗图中直观地对 比两个分组的转化情况，表格中会展示全部的分组，展示漏斗的每一步事件的转化率和总体转化率。

4. 3.2.4. 漏斗图展示

选择“总览”时，漏斗图每个步骤可以点击，下方表格中可以详细查看当前步骤的事件用户数，转化率，流失用户，以及转化时间中位数。点击分组值前一单元格的箭头可以对当前分组值展开，详细按天查看当前步骤的事件用户数，转化率，流失用户，以及转化时间中位数。
选择“对比”时，漏斗图为不可点击的，当存在分组时，可以在设置两个分组进行对比。下方表格中可以详细按照当前对比分组查看当前漏斗的每个事件的用户数和转化率。点击分组值前一单元格中的箭头可以对当前分组值展开，详细按天查看漏斗中每个事件的用户数和转化率。

5. 3.2.5. 浏览用户详情

表格的单元格内的对应数字是可以点击的，点击则会浏览这些用户的用户列表，并进一步 浏览其中某个特定用户的用户行为序列。

6. 3.2.6. 显示设置

当选择“趋势”时，点击“显示设置”可以设置当前折线图的显示指标，点击左侧“总转化率” 节点”，可以设置总转化率以及漏斗的每一步的转化率，点击左侧单个步骤节点，可以设置 当前步骤的转化率，两个事件流失用户数，以及转化时间中位数。
当选择“对比”时，点击“显示设置”可以设置显示分组，用来对比两个分组值下的漏斗转化情况。
#### 修改、删除漏斗
点击漏斗列表中的“铅笔”图标，可以在滑出的“编辑漏斗”面板中编辑该漏斗。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197482974-ed821083-b4af-41ec-a980-582fb5276d01.png#clientId=u20cf5fef-7bb6-4&from=paste&id=ua6187b09&margin=%5Bobject%20Object%5D&originHeight=992&originWidth=1658&originalType=url&ratio=1&status=done&style=none&taskId=u81650d04-3fcc-4f96-a434-46403808b07)](https://manual.sensorsdata.cn/sa/files/latest/16286907/22250256/1/1607935584000/image2020-12-14_16-46-24.png)
点击左下角的“删除漏斗”按钮，可以删除当前漏斗。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197482995-74aae542-cb46-48db-a357-efa6ba939ed4.png#clientId=u20cf5fef-7bb6-4&from=paste&id=u5d836484&margin=%5Bobject%20Object%5D&originHeight=336&originWidth=568&originalType=url&ratio=1&status=done&style=none&taskId=u568efb7f-e3f4-43cd-80b8-118f785d1b4)](https://manual.sensorsdata.cn/sa/files/latest/16286907/22250257/1/1607935689000/image2020-12-14_16-48-8.png)
#### 另存为新漏斗
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629197483246-35b37809-6c08-453a-8286-e1eeb8507982.png#clientId=u20cf5fef-7bb6-4&from=paste&id=uaa8119ba&margin=%5Bobject%20Object%5D&originHeight=1516&originWidth=1598&originalType=url&ratio=1&status=done&style=none&taskId=uf7de9562-9e40-4c83-bc2f-dd2d16a7615)
进入编辑漏斗页面，修改漏斗名称后点击右下角“另存为新漏斗”按钮，可以保存为一个新的漏斗。
### 漏斗是如何计算的
在这个文档里面，我们将会详细描述漏斗分析的计算规则，特别是在有筛选和分组情况下的计算规则，以便使用者更好地解读漏斗分析的结果。同时，我们也会针对一些常见的分析场景，给出漏斗分析的使用案例，帮助使用者更好地使用这一功能。
#### 基本计算规则
假设一个漏斗中包含了 A、B、C、D、E 五个步骤，选择的时间范围是 2015 年 1 月 1 日到 2015 年 1 月 3 日，窗口期是 1 天，那么，如果用户在2015年1月1日到2015年1月3日触发了步骤 A，并且在步骤 A 发生的 1 天内，依顺序依次触发了 B、C、D、E，则视作该用户完成了一次**成功的漏斗转化**。
在这个过程中，如果穿插了一些其它的步骤或者行为，例如在满足时间限制的情况下，用户的行为顺序是 A > X > B > X > C > D > X > E，X 代表任意一个事件，则该用户依然视作完成了一次**成功的漏斗转化**。
如果该用户在这个时间限制范围内，依次触发了 A > B > C > E，则该用户**没有完成该漏斗的转化**，并且会被记作**步骤 C 的流失用户**。
考虑一个更复杂的情况，如果一个用户在所选时段内有多个事件都符合某个转化步骤的定义，那么会优先选择更靠近最终转化目标的事件作为转化事件，并在第一次达到最终转化目标时停止转化的计算。假设一个漏斗的步骤定义是：**访问首页**、**选择支付方式**、**支付成功**，那么不同用户的行为序列及实际转化步骤（标红部分）见如下例子：

1. 例 1：**访问首页** ->** 选择支付方式（支付宝）** -> **选择支付方式（微信）**-> **支付成功**。
1. 例 2：**访问首页** -> **选择支付方式（支付宝） **-> **访问首页** -> **选择支付方式（微信）**-> **支付成功**。
1. 例 3：**访问首页** -> **选择支付方式（支付宝）** -> **访问首页** -> **选择支付方式（微信）**-> **支付成功** ->** 选择支付方式（微信）**-> **支付成功**。
#### 漏斗中展示的数字代表什么
漏斗分析中展示的数字代表转化/流失的独立用户数，而非触发的事件次数。在该时间范围内，即使一个用户多次完成漏斗，也仅计数一次。
#### 筛选条件的含义
和其它分析功能一样，漏斗分析也提供了筛选功能，需要特别强调的是，漏斗分析的筛选，都是对**_完成转化/确认流失_**的用户，再进行二次挑选。
漏斗分析的筛选，包括三种不同的筛选类型：

1. 用户属性的筛选：这个筛选类型比较好理解，是在**_完成转化/确认流失_**的用户的基础上，根据这个用户的属性，再来进行更进一步的筛选。例如，我们添加的筛选条件是“性别”为“男”，则只有用户属性中“性别”为“男”的用户，才满足这个筛选条件，并且出现在筛选后的漏斗分析结果中；
1. 指定步骤的属性的筛选：假设，我们选择了一个筛选条件是步骤 2 的属性“支付方式”为“支付宝”，这个筛选表示，在**_完成转化/确认流失_**的用户中，转化到步骤 2 时的“支付方式”的值为“支付宝”的那些用户；如果有多次可能的转化，请参考基本计算规则中的说明。
#### 分组的含义
和其它分析功能一样，漏斗分析也提供了分组功能，需要特别强调的是，漏斗分析的分组，都是对**_完成转化/确认流失_**的用户的集合上进行分组。
漏斗分析的分组，包括三种不同的分组类型：

1. 用户属性的分组：这个分组比较好理解，是在**_完成转化/确认流失_**的用户的集合，根据这个用户的属性，在来进行更进一步的分组。例如，我们添加的分组条件是“性别”，那么，就会分别对漏斗分析的结果按照“男”、“女”来进行分组；
1. 指定步骤的属性的分组：假设，我们选择了一个分组属性是步骤 2 的属性“支付方式”，这个筛选表示，在**_完成转化/确认流失_**的用户中，按照转化到步骤 2 时的“支付方式”的值来进行分组；如果有多次可能的转化，请参考基本计算规则中的说明；如果用户没有转化到步骤 2，则分到**未知**组。
### FAQ
#### 漏斗内的筛选条件和漏斗外的筛选条件的区别
例 1： 漏斗内设置的筛选条件是根据设置的条件得到漏斗，漏斗外设置的筛选条件是根据得到的漏斗筛选出满足筛选条件的漏斗。一般业务上的使用场景是在漏斗内设置筛选条件，建议直接在漏斗内设置条件得到满足条件的漏斗。 比如漏斗选取的漏斗步骤为 A->B->C->D ，某用户甲的序列是 F->A2->A1->A1->B->C->A1->B，事件 A 包含了一个操作系统的属性，其中 A1 的操作系统为 Android， A2 的操作系统为 iOS。如果在漏斗内添加筛选条件操作系统为 iOS ，那么系统筛选到的序列为 A2->B->C，筛选的原则是沿着该用户的行为序列顺序查找，直到找到属性为 iOS 的 A 事件；如果在漏斗外添加筛选条件操作系统为 iOS 因为漏斗外筛选是在用户漏斗成功转换后的二次筛选，不加任何筛选条件时，该用户正常的漏斗转化为 A1->B->C,其中 A1 为第二个 A1 ，因此在漏斗外添加筛选条件时该用户筛选不出来。
#### 漏斗强制刷新人数会变化
答：（1）若仅第一次刷新时，数据有变化，多次刷新后人数不再变化，则是因为小象分析查询的缓存机制导致，以刷新后的数据为准。
（2）若多次刷新人数都会变化，通常是因为漏斗相邻事件时间一样，导致的排序不稳定。可以让对应事件的埋点同学调整下事件上报时机，保证两个事件时间不同即可。
#### 漏斗内某事件的人数和事件分析的触发用户数不一致
答：（1）漏斗内第一步对应的人数与事件分析查询的触发用户数不一致：可能是漏斗查询时，在漏斗外添加了筛选条件，导致和事件分析中对应筛选条件下人数不一样。可以将筛选条件添加在漏斗内，再对比下查询的数据。如果筛选条件放在漏斗内之后，查询的结果和事件分析一致，则说明查询结果正常。具体原因可参考问题 1 的漏斗内和漏斗外筛选条件的区别。
（2）漏斗内非第一步事件与事件分析的触发用户数不一致：属于正常数据，因为漏斗内的某事件人数是满足漏斗规则后筛选出的人数，比如漏斗规则为 A->B->C，事件分析中 B 事件用户数为 100，漏斗分析中先触发 A 事件再触发 B 事件的用户数为 20。
#### 漏斗按天转化率没有总体转化率高
答：举个例子，比如 11.01-11.03 这 3 天里有 3 个人，漏斗规则为 A->B->C， 11.01 三个人都触发事件 A ，但只有第一个人在窗口期内完成 B->C 转化；11.02 三个人都触发事件 A 但只有第二个人在窗口期内完成 B->C 转化 ； 11.03 三个人都触发事件 A 但只有第三个人在窗口期内完成 B->C 转化。按天分布的话，11.01 的转化率为 33%，11.02 的转化率为 33%。11.03 的转化率为 33%。按总体看，11.01-11.10 这 10 天的转化率为 100%。
#### 总体转化率没有漏斗按天转化率高
答：举个例子：，比如 11.01-11.02 这 2 天，漏斗规则为 A->B->C，第一天，a b c 三个人触发了事件 A ，b c 两个人在规定窗口期内完成 B->C 转化，转化率 66.6%。
第二天，b c d e 四个人触发了事件 A，b c 两个人在规定窗口期内完成 B->C 转化，转化率 50%。
总体，abcde五个人访问，bc下单，转化率 40%。
# 留存分析
## 留存分析概述
留存分析是一种用来分析用户参与情况/活跃程度的分析模型，考查进行初始行为后的用户中，有多少人会进行后续行为。这是衡量产品对用户价值高低的重要指标。
留存分析可以帮助回答以下问题：

- 一个新客户在未来的一段时间内是否完成了您期许用户完成的行为？如支付订单。
- 某个社交产品改进了新注册用户的引导流程，期待改善用户注册后的参与程度，如何验证？
- 想判断某项产品改动是否奏效，如新增了一个邀请好友的功能，观察是否有人因新增功能而多使用产品几个月？

[查看留存分析功能应用示例](https://manual.sensorsdata.cn/sa/latest/example_function_retention-22252795.html)
### 留存分析界面功能简介
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528188170-0af1c6de-f8c1-4f92-ab8f-fb7494b6cc1c.png#clientId=uce5e6b89-c275-4&from=paste&id=u87719575&margin=%5Bobject%20Object%5D&originHeight=1680&originWidth=2134&originalType=url&ratio=1&status=done&style=none&taskId=u581c2f76-0309-41fd-8c14-5bfe001f30e)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292620/1/1627370796000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.22.30.png)
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528188177-bb5b1a7f-74ff-46b5-bb6a-cb3d5c6074ec.png#clientId=uce5e6b89-c275-4&from=paste&id=u6f1de723&margin=%5Bobject%20Object%5D&originHeight=626&originWidth=2170&originalType=url&ratio=1&status=done&style=none&taskId=u77515f2b-517d-4e9f-973b-54826df79d1)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292689/1/1627379638000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%885.51.17.png)
#### 选择初始行为和后续行为
初始行为和后续行为的选择有两种策略：

1. 初始行为选择用户只触发一次的事件，比如“注册”、“上传头像”、“激活设备”等，后续行为选择你期望用户重复触发的事件，比如“阅读文章”、“发帖”、“购买”等。这种留存用于对比分析不同阶段开始使用产品的新用户的参与情况，从而评估产品迭代或运营策略调整的得失。
1. 初始行为和后续行为选择相同的，期待用户重复触发的事件。这种留存用于分析忠实用户的使用模式。
#### 设置初始行为和后续行为筛选条件
针对事件的属性，可以根据具体需求筛选初始行为或后续行为的细分维度。比如，我们想分析北京地区的用户注册后，后续购买手机的留存情况，那么可以定义初始行为是“注册”，同时添加筛选条件“城市等于北京”，后续行为是“支付订单的商品细节”，同时添加筛选条件“商品类型等于手机”，即可满足分析需求。
#### 添加同时显示的指标
在留存分析时，可以添加同时显示的指标，统计留存人员的指标值。如，统计留存人员在留存时段内的充值金额总和、人均值、累计总和、累计人均值、阶段累计总和和阶段累计人均值等。属性分组时，暂不支持同时展示。
其中，可以通过阶段累计人均值指标来计算 LTV。同时显示事件选择营收事件、同时显示指标中选择金额属性的阶段累计人均值，在表格中会显示用户的 LTV。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528188644-1328816f-2399-406b-ac35-8ee9a8d3f2cc.png#clientId=uce5e6b89-c275-4&from=paste&id=u6810a5e4&margin=%5Bobject%20Object%5D&originHeight=1004&originWidth=1892&originalType=url&ratio=1&status=done&style=none&taskId=u5f6b0218-62c9-44e7-97f4-ed7cf229270)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292623/1/1627371797000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.28.29.png)
#### 按属性分组查看
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528189089-f1faabb5-15e2-4e80-a5c6-983a3c26d783.png#clientId=uce5e6b89-c275-4&from=paste&id=udabfd7f0&margin=%5Bobject%20Object%5D&originHeight=966&originWidth=1074&originalType=url&ratio=1&status=done&style=none&taskId=uedf30824-005c-431b-a9db-d0d93371af4)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292624/1/1627371942000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.44.51.png)

留存表格默认按照初始行为日期分组。每行的第一列代表了初始行为日期；第二列是在该日期触发了初始行为的总人数（独立用户数）；后面各列，分别是在相应时间后触发后续行为的用户数，以及占初始行为人数的百分比。有同时显示指标时，会显示对应的指标值。
除了可以按照初始行为日期进行分组查看外，还可以分别按照初始行为事件属性或后续行为事件属性进行分组查看。如选择初始行为事件属性按注册渠道进行分组，我们则可以看到不同注册渠道的后续留存情况。
需要注意的是，当开启设置关联属性后，仅支持按照初始事件的关联属性进行分组查看。如选择初始行为事件和后续行为事件的关联属性为页面标题，则可以看到不同页面的后续留存情况。
觉得有点复杂？没关系，鼠标悬浮到每个单元格上，会有文字提示告诉你这个单元格的具体含义。同时，单元格的背景颜色也能直观反映留存情况。

- 如果这里选择的属性是数值类型，可以自定义分组区间。如果没有设置，查询引擎会动态计算分组区间。此设置仅在当前查询生效，将查询保存为书签后在书签中也生效。

[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528189111-0bc75f49-c0f5-43a2-af54-af77d1a29b17.png#clientId=uce5e6b89-c275-4&from=paste&id=uda3f511c&margin=%5Bobject%20Object%5D&originHeight=714&originWidth=1246&originalType=url&ratio=1&status=done&style=none&taskId=ub5364391-9c49-46d9-87f7-f02d8d106ac)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292627/1/1627372231000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.50.17.png)

- 如果选择的属性是list类型，list集合中的所有属性值会被拆分成独立子项，可分别查看单个属性之下的留存分析。注：如果设置了多个list类型的分组，仅支持最后一个list类型的拆分显示。
#### 设置用户筛选条件
针对用户属性、用户粉群、用户标签，筛选合适的分析对象。比如，只查看女性用户的留存情况。
用户属性时间类型的属性，支持设置相对初始行为事件发生时间、相对后续行为事件发生时间的时间范围。对比方式包含：之前、之后、当天、当周、当月。时间粒度支持天、小时、分、秒。比如：设置某个用户属性：首次登录时间，相对初始行为事件：App登录在当天之内，则符合筛选的用户为首日登录的用户。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528189117-26d33cf0-462a-4f36-ab7c-5a40c071ff89.png#clientId=uce5e6b89-c275-4&from=paste&id=u728076c1&margin=%5Bobject%20Object%5D&originHeight=566&originWidth=1746&originalType=url&ratio=1&status=done&style=none&taskId=u80fa683e-4a48-4f3e-b05a-590d9416f59)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292628/1/1627372477000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.54.12.png)

#### 设置关联属性
支持设置初始行为事件和后续行为事件的属性进行关联。不同事件关联的属性可以是相同属性，也可以是不同属性，但是要求属性的类型必须一致。 举例：某内容类网站想要知道各页面的七日留存，因此需要在初始行为事件App 浏览页面 和后续行为事件 App 浏览页面 中添加关联属性页面标题，此时就会按照该属性进行关联，以保证用户严格按照该模式配对。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528189704-c758e639-3b11-4a02-b308-fc4a8acd3bdf.png#clientId=uce5e6b89-c275-4&from=paste&id=u6f07de21&margin=%5Bobject%20Object%5D&originHeight=812&originWidth=2376&originalType=url&ratio=1&status=done&style=none&taskId=ue524a32a-108e-4aa9-bbee-494d36051d9)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292629/1/1627372635000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.56.06.png)
#### 选择考查的时间段和留存/流失时长
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528189883-8bbbdda1-44f1-4c66-b5b6-6c9797600a91.png#clientId=uce5e6b89-c275-4&from=paste&id=ua5d4c09d&margin=%5Bobject%20Object%5D&originHeight=812&originWidth=2376&originalType=url&ratio=1&status=done&style=none&taskId=u3190a1c3-9909-4d03-99df-2fd8db5b236)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292631/1/1627372790000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%883.58.34.png)
这里选择的时间范围是初始行为事件发生的时间范围，如上图选择“ 7 天留存”，后续事件发生时间范围的截止日期会被延展到 2020 年 7 月 12 日（ 2020 年 7 月 05 日向后延展 7 天）。
可以按照日、周、月查看不同时间体量下的留存/流失情况。1.6.5 版提供了查看流失用户的功能，在上图圈红处点击可以选择流失时间。
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528189809-d586e5df-34cc-4a21-a012-cba53d988689.png#clientId=uce5e6b89-c275-4&from=paste&id=ua1494dc0&margin=%5Bobject%20Object%5D&originHeight=812&originWidth=2362&originalType=url&ratio=1&status=done&style=none&taskId=uf1994885-6fc5-4610-b454-a3957011c50)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292638/1/1627373660000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%884.13.29.png)

留存分析中流失用户的定义是连续多“天”(不包含当天，即从触发初始行为事件之后，从第 1 天开始计算，连续多“天”)没有发生后续事件才认为是流失用户，如上图“第 2 日”流失是指 2,377 人进行初始事件后持续 2 天没有进行后续事件（不考虑用户在 06-30 号当天是否触发过后续事件）。
#### 留存表格
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528190313-fb590134-d4ed-4715-af7d-a1f8904dcbf4.png#clientId=uce5e6b89-c275-4&from=paste&id=ue1584abe&margin=%5Bobject%20Object%5D&originHeight=812&originWidth=2362&originalType=url&ratio=1&status=done&style=none&taskId=uf7693913-ebba-48ee-b79a-fd0cda5b10c)](https://manual.sensorsdata.cn/sa/files/latest/30933456/33292641/1/1627373924000/%E6%88%AA%E5%B1%8F2021-07-27+%E4%B8%8B%E5%8D%884.15.39.png)
在留存表格中，鼠标 hover 到表格中，会显示相应的提示信息。点击用户数时，可以查看用户列表、创建用户分群。
在 2.1 以后的 SA 版本中，汇总行（支持收起展开的表格行）的留存/流失率中的人数不做去重，即下方各个时段内的留存/流失人数之和除以对应时段内的总人数之和。选择按“总体”查看时，可选择“同时展示”其他指标。同时展示的指标也会展示在表格中。
表格的单元格内的数字是可以点击的，点击可以浏览这些用户的详细信息，并且进一步浏览其中单个用户的详细行为序列。
#### 留存变化趋势曲线
用另一种可视化方式，体现不同分组的留存情况对比。
### 留存是如何计算的
留存分析中展示的数字代表独立用户数。表示在选定时间范围内进行了初始行为的用户，有多少人在随后的第 n 天/周/月进行了后续行为。
#### 基本计算规则
假设定义的初始行为是 A 事件，后续行为是 B 事件，筛选时间段为 2015 年 1 月 1 日到 2015 年 1 月 8 日，注意这个时间范围是事件 A 发生的时间范围，事件 B 发生的时间范围是 2015 年 1 月 1日到 1 月 15 日（1 月 8 日加上 7 天）。
#### 未设置关联属性
下表为某用户2015 年 1 月 1 日到 2015 年 1 月 8 日的真实行为序列和纳入计算的行为序列（保留用户当日首个初始行为事件或后续行为事件）。表格中，字母 A 和 B 为事件，数字 1，2，3 为该用户某个属性的属性值。

| **日期** | **真实行为序列** | **纳入计算的行为序列** |
| --- | --- | --- |
| 01-01 | A1,A2,A2 | A1 |
| 01-02 | B2,B1,B1 | B2 |
| 01-03 | A3,A1,A1 | A3 |
| 01-04 | A1,A3,A3 | A1 |
| 01-05 | A1,A3,A3 | A1 |
| 01-06 | B1,B2,B1 | B1 |
| 01-07 | A1,A2 | A1 |
| 01-08 | B2,B1,B3 | B2 |

该用户的留存情况如下表：

| **初始行为日期** | **初始事件** | **第 1 天** | **第 2 天** | **第 3 天** | **第 4 天** | **第 5 天** | **第 6 天** | **第 7 天** |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 01-01 | A1 | B2 | 

 | 

 | 

 | B1 | 

 | B2 |
| 01-03 | A3 | 

 | 

 | B1 | 

 | B2 | 

 | 

 |
| 01-04 | A1 | 

 | B1 | 

 | B2 | 

 | 

 | 

 |
| 01-05 | A1 | B1 | 

 | B2 | 

 | 

 | 

 | 

 |
| 01-07 | A1 | B2 | 

 | 

 | 

 | 

 | 

 | 

 |

1.不加分组，如果指定初始行为日期为 2015 年 1 月 1 日，则该用户分别是第 1 天，第 5 天，第 7 天的留存用户。
2.按初始行为事件 A 的属性分组，如果用户完成事件 A 的属性值各不相同，该用户只会被归到 1 月 1 日 发生的首个 A 事件的属性值 1 中。去重后，该用户分别是属性值 1 的第 1 天、第 2 天、第 3 天、第 4 天、第 5 天、第 7 天的留存用户。
3.按后续行为事件 B 的属性分组，如果用户完成事件 B 的属性值各不相同，该用户只会被归到 1 月 2 日 发生的首个 B 事件的属性值 2 中。去重后，该用户分别是属性值 2 的第 1 天、第 2 天、第 3 天、第 4 天、第 5 天、第 7 天的留存用户。
4.按用户属性分组，比如按性别分组，若用户为女性，则该用户分别是属性值女性的第 1 天、第 2 天、第 3 天、第 4 天、第 5 天、第 7 天的留存用户。
#### 设置关联属性
下表为某用户 2015 年 1 月 1 日到 2015 年 1 月 8 日的真实行为序列和纳入计算的行为序列（同一天内初始行为事件或后续行为事件不同属性值各保留一个，且保留首个）。表格中，字母 A 和 B 为事件，数字 1、2、3 为该用户某个属性的属性值。

| **日期** | **真实行为序列** | **纳入计算的行为序列（属性值1）** | **纳入计算的行为序列（属性值 2）** | **纳入计算的行为序列**
**（属性值 3）** |
| --- | --- | --- | --- | --- |
| 01-01 | A1,A2,A2 | A1 | A2 | 

 |
| 01-02 | B2,B1,B1 | B1 | B2 | 

 |
| 01-03 | A3,A1,A1 | A1 | 

 | A3 |
| 01-04 | A1,A3,A3 | A1 | 

 | A3 |
| 01-05 | A1,A3,A3 | A1 | 

 | A3 |
| 01-06 | B1,B2,B1 | B1 | B2 | 

 |
| 01-07 | A1,A2 | A1 | A2 | 

 |
| 01-08 | B2,B1,B3 | B1 | B2 | B3 |

按初始行为事件 A 的属性分组，如果按属性值 1 分组，则关联属性值为 1 的初始行为事件或后续行为事件才会纳入计算，该用户分别是属性值 1 的第 1 天，第 2 天，第 3 天，第 4 天，第 5 天，第 7 天的留存用户。如果按属性值 2 分组，则关联属性值为 2 的初始行为事件或后续行为事件才会纳入计算，该用户分别是属性值 2 的第 1 天，第 5 天，第 7 天的留存用户。同理，该用户分别是属性值 3 的第 3 天，第 4 天，第 5 天的留存用户。
#### 筛选条件的含义
和其他分析功能一样，留存分析也提供了筛选功能。留存分析的筛选提供了两种不同的筛选类型。

1. 用户属性上的筛选：例如，我们添加的筛选条件是“性别”为“男”，则只有属性中“性别”为“男”的用户，才满足这个筛选条件，并且出现在筛选后的留存分析结果中；
1. 事件属性的筛选：和漏斗的触发限制条件含义相同，指定事件满足指定属性的过滤。
#### 分组的含义
留存分析提供了两种不同的分组类型。我们以一个初始行为是 A，后续行为是 B，时间范围是 2015 年 1 月 1 日到 1 月 8 日的 7 天留存来进行详细说明：

1. 用户属性上的分组：根据用户属性来进行更进一步的分组。例如我们添加的分组条件是“性别”，那么，就会分别对留存分析的结果按照“男”、“女”来进行分组；
1. 事件属性的分组：例如，我们选择的分组设置是初始行为的属性“屏幕高度”，则这个分组表示，在 2015 年 1 月 1 日到 1 月 15 日这个时间范围内，按初始行为的“屏幕高度”这个属性的值来对他们进行分组；下面是几个具体的例子的描述:
   1. 某个用户在这个时间段内的行为序列是 A、B、C、A、B，第一次出现的 A 的“屏幕高度”值为“320”，第二次出现的 A 的“屏幕高度”值为“1080”，因为按照首次出现的 A 事件的“屏幕高度”来分组，所以这个用户会被划分到“320”这个分组的统计结果中;
   1. 某个用户在这个时间段内的行为序列是 A、A，这个用户在初始行为 A 事件后没有后续行为。第一次出现的 A 的“屏幕高度”值为“1080”，第二次出现的 A 的“屏幕高度”值为“320”，因为按照首次出现的 A 事件的“屏幕高度”来分组，所以这个用户会被划分到“1080”这个分组的统计结果中；
### FAQ
#### 为什么要做留存分析？看活跃用户百分比不够吗？
按初始行为时间分组的留存分析可以消除用户增长对用户参与数据带来的影响。如果产品目前处于快速增长阶段，很有可能新用户中的活跃用户数增长掩盖了老用户活跃度的变化。通过留存分析，你可以将用户按照注册时间分段查看，得出类似如下结论：“三月份改版前，该月注册的用户 7 天留存只有 15%；但是四月份改版后，该月注册的用户 7 天留存提高到了 20%。” 同理，按照非时间维度的留存分析具有类似价值，比如，可以查看新功能上线之后，对不同性别用户的留存是否带来不同效果。我们在分析用户的留存时，一定要根据实际的业务需求，找到有价值的后续行为，对用户的价值留存进行分析，才能对产品的优化和改进提供实质性指导建议。
# 分布分析
## 分布分析概述
分布分析不但可以告诉你用户有多依赖你的产品，还可以告诉你某个事件指标的用户分布情况。比如，查看订单金额在 100 元以下、100 元至 200 元、200 元以上三个区间的用户分布情况。
指定一个用户行为事件，然后选择事件的指标。分布分析可以帮助揭示以下问题：

- 通知策略调整前后，用户每天使用产品次数是否增加？
- 用户首次购买后是否会重复购买？
- 假设每天使用 3 次以上某关键功能的用户算作核心用户，那么核心用户的成分变化趋势如何？

[查看分布分析功能应用示例](https://manual.sensorsdata.cn/sa/latest/example_function_addiction-22252816.html)
### 分布分析按时间统计
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528535352-bad02b83-dbfc-403f-9c4b-bafd3bcae6df.png#clientId=uce5e6b89-c275-4&from=paste&id=u3c10f12a&margin=%5Bobject%20Object%5D&originHeight=1070&originWidth=2642&originalType=url&ratio=1&status=done&style=none&taskId=u38c38341-2aa1-4fc0-a8ad-aae99fc28a0)](https://manual.sensorsdata.cn/sa/files/latest/16286041/22250268/1/1607940893000/image2020-12-14_18-14-53.png)
#### 选择用户行为
选择某个事件作为考查的行为。比如选择『提交订单』。
#### 选择指标
在这里选择分布分析的指标，可以选择“小时数”或“天数”等时间单位，以下以“小时数”为例。
#### 选择时间单位
选择行为发生的统计时间单位（在图 3.3 处选择按时间段还是次数进行分析）。可以选择：

- **一天内：** 用户在 0:00-23:59 这 24 小时中的行为分布。
- **一周内：** 用户在周一到周日这 7 天内的行为分布。
- **一个月内：** 用户在不同月份的第一天到最后一天的行为分布。
#### 设置所选事件的筛选条件
比如，只查看 iOS 版本的行为分布。
#### 设置用户筛选条件
针对用户属性，筛选合适的分析对象。比如，只查看女性用户的行为分布。
#### 行为分布表格
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528536213-5d776f73-ceae-4f04-8d9b-b781fbb9e198.png#clientId=uce5e6b89-c275-4&from=paste&id=u2717bbc5&margin=%5Bobject%20Object%5D&originHeight=434&originWidth=886&originalType=url&ratio=1&status=done&style=none&taskId=u6e73011c-e0cd-4a55-ab8b-0070f8a76a7)](https://manual.sensorsdata.cn/sa/files/latest/16286041/16286042/1/1596178902000/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_9649a3e5-858a-4c86-9aac-edf85b4fc7c7.png)
第一列是用户选定的查询时间段，按照事件发生时间单位（天/周/月）划分。第二列是在相应时间范围发生行为的总用户数。后面各列，分别是发生行为相应频率的用户数和比例。
鼠标悬停在单元格上，可以查看每个单元格数字代表的具体含义。
点击这个数字，则可以看到这些用户的详细信息，并且更进一步看到其中单个用户的详细行为序列。
#### 自定义分组区间
![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528536476-0f27019a-3b1f-4afb-9a3b-717dac017289.png#clientId=uce5e6b89-c275-4&from=paste&id=u64f395a0&margin=%5Bobject%20Object%5D&originHeight=656&originWidth=752&originalType=url&ratio=1&status=done&style=none&taskId=u6e4bc5cf-56e0-4163-8e25-5ec76cdb638)
如果这里选择的属性是数字类型，可以自定义分组区间。如果没有设置，查询引擎会动态计算分组区间。此设置仅在当前查询生效，将查询保存为书签后在书签中也生效。
鼠标浮动在表格的单元格内时，会出现下载连接，点击即可下载用户详情。
### 分布分析按次数统计
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528536737-4047fa04-34f7-4bde-87bc-f1a9fe93e2d3.png#clientId=uce5e6b89-c275-4&from=paste&id=u21e415d3&margin=%5Bobject%20Object%5D&originHeight=856&originWidth=2672&originalType=url&ratio=1&status=done&style=none&taskId=uc77bb4f4-0eb0-4aa5-b2a0-d72f038ca08)](https://manual.sensorsdata.cn/sa/files/latest/16286041/22250270/1/1607941745000/image2020-12-14_18-29-5.png)
#### 选择『次数』
选择次数统计按照实际发生次数不去重。 也可以设置自定义分组区间。
#### 行为分布表格
上面截图说明，在 11-18(三)这一天内进行过『提交订单』的用户有 77 人，其中有 77 人进行了 1 次 ~ 3 次（不含 3 次）。
### 分布分析按事件指标统计
[![](https://cdn.nlark.com/yuque/0/2021/png/398185/1629528537263-7961047d-bd3f-4643-8393-f4bf1835c062.png#clientId=uce5e6b89-c275-4&from=paste&id=u91855769&margin=%5Bobject%20Object%5D&originHeight=1088&originWidth=2680&originalType=url&ratio=1&status=done&style=none&taskId=u58e52cd3-1823-4fe9-a8a1-2dec7c28833)](https://manual.sensorsdata.cn/sa/files/latest/16286041/22250276/1/1607942023000/image2020-12-14_18-33-42.png)
指标选择“订单金额的总和”，在 11-19 这天有 61 人提交订单，付费金额在 200 ~ 500 (不包含 500)之间的用户有 40 人。
### 分布分析是如何计算的
分布分析有三种统计方法，按时间段统计、按次数统计和按事件属性的统计指标。选择次数和事件的指标时可以自定义区间。
#### 按时间段统计
统计用户在一天/周/月中，有多少个自然时间段（小时/天）进行了某项操作。
以『一天内』进行『点击广告』的『小时数』分析为例来说明。如果某用户在 15:00 到 16:00 间进行了『点击广告』3 次，17:00 到 18:00 间进行了『点击广告』1 次，则统计为『一天至少在 2 个时段进行点击广告』, 用户在某小时内进行『点击广告』一次或多次，都记 1 次。
对于查看用户一周/一月内某事件的天数，则是统计用户在一周/月中触发过某事件的天数。
#### 按次数统计
统计用户在一天/周/月中，进行某项操作的次数，发生一次就记录一次。
#### 按事件属性的统计指标统计
统计用户在一天/周/月中，发生事件的某属性的统计指标值。属性的统计指标与事件分析一致，有总和、均值、最大值、最小值、去重数。
### FAQ
#### 分布分析比单看日活（DAU）优越在哪里？
日活只能告诉你用户数的变化，分布分析却能揭示单个用户对产品依赖程度的变化。比如某产品虽然三月和四月期间活跃用户量没有明显增长，但是用户关键行为（比如下单，或发布内容）的频率却显著增加，说明产品对于用户的价值增加了。反之，如果虽然日活增长很快，但是行为发生频率却在相比之前较低的水平，很有可能新增加的活跃用户并未真正感受到产品价值。
# 
## 
​

[

](https://manual.sensorsdata.cn/sa/latest/guide_terms_attribute-22249980.html)
